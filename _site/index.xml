<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:distill="https://distill.pub/journal/" version="2.0">
  <channel>
    <title>PIPING HOT DATA</title>
    <link>https://www.pipinghotdata.com</link>
    <atom:link href="https://www.pipinghotdata.com/index.xml" rel="self" type="application/rss+xml"/>
    <description>Data science demos, deliberations, and discoveries
</description>
    <generator>Distill</generator>
    <lastBuildDate>Sat, 03 Apr 2021 00:00:00 +0000</lastBuildDate>
    <item>
      <title>sunburst</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2021-04-03-sunburst</link>
      <description>


&lt;h1 id="tl-dr"&gt;TL; DR&lt;/h1&gt;
&lt;p&gt;I manually defined &lt;code&gt;geom_rect&lt;/code&gt; to create custom sunbursts with &lt;code&gt;ggplot&lt;/code&gt;. Pair this with &lt;code&gt;ggiraph&lt;/code&gt; package to create an awesome interactive graphic!&lt;/p&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;Sunbursts in R first caught my eye from the &lt;a href="https://cran.r-project.org/web/packages/sunburstR/vignettes/sunburst-2-0-0.html" target="_blank"&gt;&lt;code&gt;sunburstR&lt;/code&gt;&lt;/a&gt; package with its awesome interactivity through &lt;code&gt;d3&lt;/code&gt;. However, I had trouble customizing it and sought a &lt;code&gt;ggplot&lt;/code&gt; alternative. You can create a version using &lt;code&gt;geom_col&lt;/code&gt;, as shown in this &lt;a href="https://community.rstudio.com/t/how-to-create-a-ggplot2-pie-and-donut-chart-on-same-plot/42798/3" target="_blank"&gt;RStudio Community Post&lt;/a&gt;; I chose to go the more complex &lt;code&gt;geom_rect&lt;/code&gt; route for more customization options. It was pretty exciting when I got it to work!&lt;/p&gt;
&lt;blockquote class="twitter-tweet"&gt;
&lt;p lang="en" dir="ltr"&gt;
pretty pumped I got this custom “sunburst”-esque figure to work!! &lt;a href="https://twitter.com/hashtag/ggplot?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#ggplot&lt;/a&gt; &lt;a href="https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#rstats&lt;/a&gt; &lt;a href="https://t.co/L88IQWoVCs"&gt;pic.twitter.com/L88IQWoVCs&lt;/a&gt;
&lt;/p&gt;
— Shannon Pileggi (&lt;span class="citation"&gt;@PipingHotData&lt;/span&gt;) &lt;a href="https://twitter.com/PipingHotData/status/1215699305555746816?ref_src=twsrc%5Etfw"&gt;January 10, 2020&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;h1 id="the-data"&gt;The data&lt;/h1&gt;
&lt;p&gt;To illustrate the concept on a publicly available data set, I am using the May 2021 &lt;a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-05-18/readme.md" target="_blank"&gt;&lt;code&gt;#TidyTuesday&lt;/code&gt; salary data&lt;/a&gt;. Here, I’ll be looking at the top 5 industries and job titles.&lt;/p&gt;
&lt;p&gt;The data attributes that work well for this set up include:&lt;/p&gt;
&lt;ol style="list-style-type: decimal"&gt;
&lt;li&gt;&lt;p&gt;4-6 categories, with associated weight or frequency of occurrence&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;our categories are the top 5 industries&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;4-6 sub-items within each category, with associated weight or frequency of occurrence&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;our sub-items are the top 5 job titles within industry&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="3" style="list-style-type: decimal"&gt;
&lt;li&gt;&lt;em&gt;optional:&lt;/em&gt; a metric for the sub-items&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;our metric is the median salary for the titles&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="libraries"&gt;Libraries&lt;/h1&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(tidyverse) # general use
library(ggiraph)   # interactive ggplots
library(glue)      # pasting strings
library(pals)      # color palette&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id="data-processing"&gt;Data processing&lt;/h1&gt;
&lt;h2 id="import"&gt;Import&lt;/h2&gt;
&lt;p&gt;First, import the data from GitHub.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# import data
survey_raw &amp;lt;- readr::read_csv(&amp;#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-05-18/survey.csv&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="summarize"&gt;Summarize&lt;/h2&gt;
&lt;p&gt;Next, summarize the data in terms of the top 5 industries and top 5 job titles. For the job title, we’ll get (1) the percent of respondents with that title, and (2) the median salary for that title.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;survey_summary &amp;lt;- survey_raw %&amp;gt;% 
  # identify top industries
  group_by(industry) %&amp;gt;% 
  mutate(
    # number of respondents per industry
    n_industry = n()
  ) %&amp;gt;%
  ungroup() %&amp;gt;% 
  arrange(desc(n_industry), industry) %&amp;gt;%
  mutate(
    # rank of industry in terms of number of survey respondents
    # know a better way to do this bit? pls let me know!
    n_industry_rank = as.numeric(factor(-n_industry)),
    # very light cleaning of job title
    job_title = tolower(job_title) %&amp;gt;% 
      str_remove_all(&amp;quot;[:digit:]+&amp;quot;) %&amp;gt;% 
      str_trim() %&amp;gt;% 
      ifelse(. == &amp;quot;rn&amp;quot;, &amp;quot;registered nurse&amp;quot;, .)
  ) %&amp;gt;% 
  # reduce to top 5 industries present
  filter(n_industry_rank %in% 1:5) %&amp;gt;% 
  # identify top 5 job titles in each industry 
  group_by(n_industry_rank, n_industry, industry, job_title) %&amp;gt;%
  summarize(
    # number of titles within industry
    n_title = n(),
    # median salary per title
    median_salary = median(annual_salary)
  ) %&amp;gt;% 
  ungroup() %&amp;gt;% 
  arrange(n_industry_rank, industry, desc(n_title)) %&amp;gt;% 
  group_by(industry) %&amp;gt;% 
  # keep top 6 job titles within industry
  slice(1:5) %&amp;gt;%
  # recompute number of respondents per industry based on titles selected
  mutate(n_industry = sum(n_title)) %&amp;gt;% 
  ungroup() %&amp;gt;% 
  mutate(
    # relative scale of salary for plotting
    median_salary_scaled = median_salary / max(median_salary) * 100,
    # base n respondents
    n_total = sum(n_title),
    # percent of respondents per title
    pct_title = n_title / n_total * 100,
    pct_industry = n_industry / n_total * 100,
    # unique job title, as some repeat across industry
    title_unique = glue::glue(&amp;quot;{str_sub(industry, 1, 3)}: {job_title}&amp;quot;)
  ) %&amp;gt;% 
  arrange(desc(pct_industry, pct_title))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is a preview of our data, which is the basis needed for the sunburst’s custom rectangles.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# view input data
DT::datatable(survey_summary)&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-df57694d2afb8dca3684" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-df57694d2afb8dca3684"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25"],[1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,5,5,5,5,5,4,4,4,4,4],[809,809,809,809,809,317,317,317,317,317,216,216,216,216,216,177,177,177,177,177,122,122,122,122,122],["Computing or Tech","Computing or Tech","Computing or Tech","Computing or Tech","Computing or Tech","Education (Higher Education)","Education (Higher Education)","Education (Higher Education)","Education (Higher Education)","Education (Higher Education)","Nonprofits","Nonprofits","Nonprofits","Nonprofits","Nonprofits","Health care","Health care","Health care","Health care","Health care","Government and Public Administration","Government and Public Administration","Government and Public Administration","Government and Public Administration","Government and Public Administration"],["software engineer","senior software engineer","software developer","product manager","engineering manager","assistant professor","librarian","associate professor","professor","academic advisor","executive director","program manager","director","program coordinator","program director","registered nurse","nurse practitioner","executive assistant","pharmacist","project manager","librarian","analyst","policy analyst","director","manager"],[334,210,99,97,69,104,82,55,41,35,62,58,39,30,27,92,28,19,19,19,39,28,20,18,17],[125000,151500,95000,120000,173500,77250,64800,82000,95000,50000,82000,60000,100000,46425,71350,72900,106785,65000,106840,88000,59000,85650,89074,127500,120000],[72.0461095100865,87.3198847262248,54.7550432276657,69.164265129683,100,44.5244956772334,37.3487031700288,47.2622478386167,54.7550432276657,28.8184438040346,47.2622478386167,34.5821325648415,57.6368876080692,26.7579250720461,41.1239193083574,42.0172910662824,61.5475504322767,37.463976945245,61.5792507204611,50.7204610951009,34.0057636887608,49.3659942363112,51.3394812680115,73.4870317002882,69.164265129683],[1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641],[20.3534430225472,12.7970749542962,6.03290676416819,5.91102985984156,4.20475319926874,6.33759902498477,4.99695307739183,3.35161486898233,2.49847653869592,2.13284582571603,3.77818403412553,3.53443022547227,2.37659963436929,1.82815356489945,1.64533820840951,5.60633759902498,1.70627666057282,1.15783059110299,1.15783059110299,1.15783059110299,2.37659963436929,1.70627666057282,1.2187690432663,1.09689213893967,1.03595368677636],[49.2992078001219,49.2992078001219,49.2992078001219,49.2992078001219,49.2992078001219,19.3174893357709,19.3174893357709,19.3174893357709,19.3174893357709,19.3174893357709,13.1627056672761,13.1627056672761,13.1627056672761,13.1627056672761,13.1627056672761,10.7861060329068,10.7861060329068,10.7861060329068,10.7861060329068,10.7861060329068,7.43449116392444,7.43449116392444,7.43449116392444,7.43449116392444,7.43449116392444],["Com: software engineer","Com: senior software engineer","Com: software developer","Com: product manager","Com: engineering manager","Edu: assistant professor","Edu: librarian","Edu: associate professor","Edu: professor","Edu: academic advisor","Non: executive director","Non: program manager","Non: director","Non: program coordinator","Non: program director","Hea: registered nurse","Hea: nurse practitioner","Hea: executive assistant","Hea: pharmacist","Hea: project manager","Gov: librarian","Gov: analyst","Gov: policy analyst","Gov: director","Gov: manager"]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;n_industry_rank&lt;\/th&gt;\n      &lt;th&gt;n_industry&lt;\/th&gt;\n      &lt;th&gt;industry&lt;\/th&gt;\n      &lt;th&gt;job_title&lt;\/th&gt;\n      &lt;th&gt;n_title&lt;\/th&gt;\n      &lt;th&gt;median_salary&lt;\/th&gt;\n      &lt;th&gt;median_salary_scaled&lt;\/th&gt;\n      &lt;th&gt;n_total&lt;\/th&gt;\n      &lt;th&gt;pct_title&lt;\/th&gt;\n      &lt;th&gt;pct_industry&lt;\/th&gt;\n      &lt;th&gt;title_unique&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,5,6,7,8,9,10]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h2 id="assign-colors"&gt;Assign colors&lt;/h2&gt;
&lt;p&gt;Pick a color palette for industry, and name the color vector.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;colors_industry &amp;lt;- pals::cubicyf(n = 5) %&amp;gt;% 
  set_names(unique(survey_summary[[&amp;quot;industry&amp;quot;]]))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;colors_industry&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;                   Computing or Tech 
                           &amp;quot;#830CAB&amp;quot; 
        Education (Higher Education) 
                           &amp;quot;#6574FA&amp;quot; 
                          Nonprofits 
                           &amp;quot;#3BBCAC&amp;quot; 
                         Health care 
                           &amp;quot;#62E44A&amp;quot; 
Government and Public Administration 
                           &amp;quot;#CCEC5A&amp;quot; &lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="compute-rectangles"&gt;Compute rectangles&lt;/h2&gt;
&lt;p&gt;Next, I manually define the rectangles. I figured out the bits to create custom rectangles from various blog posts that I did not save. It could have been this post on &lt;a href="https://learnr.wordpress.com/2009/03/29/ggplot2-variable-width-column-chart/" target="_blank"&gt;variable width column charts&lt;/a&gt;. I got tips on how to angle text for labels from the &lt;a href="http://www.r-graph-gallery.com/296-add-labels-to-circular-barplot.html" target="_blank"&gt;R Graph Gallery’s circular barplots&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The idea of the rectangles’ color assignment is that darker shades represent more frequent items within a category. To create the colors, I concocted a solution to implement a degree of transparency off of the original industry colors based on the total number of sub-categories. Jake Riley shared with me &lt;a href="https://stackoverflow.com/questions/56120815/how-to-factor-sub-group-by-category" target="_blank"&gt;an alternative solution for sub-category color assignment&lt;/a&gt; that he contributed on Stack Overflow.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;survey_burst &amp;lt;- survey_summary %&amp;gt;% 
  # join colors to data frame ----
    left_join(enframe(colors_industry, name = &amp;quot;industry&amp;quot;, value = &amp;quot;color_industry&amp;quot;), 
            by = &amp;quot;industry&amp;quot;) %&amp;gt;%
  # arrange descending industry but ascending title
  # to compute title colors
  arrange(desc(n_industry), industry, n_title, title_unique) %&amp;gt;% 
  group_by(industry) %&amp;gt;% 
  mutate(
    # enumerate title in industry
    id_title = row_number(),
    # number of titles per industry
    # this can vary - it does not have to be same number per category
    num_title = max(id_title)
  ) %&amp;gt;% 
  ungroup() %&amp;gt;% 
  mutate(
    # degree of transparency based on number of attributes ----
    color_trans = id_title / num_title ,
    color_title = map2_chr(color_industry, color_trans, ~ adjustcolor(.x, .y))
  ) %&amp;gt;% 
  # this arrange specifies the ordering of the figure
  # clockwise ---
  arrange(-pct_industry, industry, -pct_title, title_unique) %&amp;gt;%
  # counter clockwise ---
  # arrange(pct_industry, industry, pct_title, title_unique) %&amp;gt;% 
  mutate(
    industry = fct_inorder(industry),
    title_unique = fct_inorder(title_unique)
  ) %&amp;gt;% 
  group_by(industry) %&amp;gt;% 
  mutate(cum_title_pct = cumsum(pct_title)) %&amp;gt;% 
  ungroup() %&amp;gt;% 
  mutate(
    cum_industry_pct = cumsum(cum_title_pct),
    cum_all = cumsum(pct_title)
  ) %&amp;gt;% 
  mutate(
    # compute coordinates of the rectangles ----
    # the 0.3 is an adjustment on the 0 to 100 scale to add a small
    # amount of white space between rectangles
    rect_x_max = cumsum(pct_title) - 0.3,      # xmax ----
    rect_x_min = rect_x_max - pct_title + 0.3, # xmin ----
    rect_x_mid = (rect_x_min + rect_x_max)/2,  # xmid ----
    # angles in case adding text to plot, omitting here ----
    angle = 90 - 360 * rect_x_mid / 100,
    hjust = ifelse(angle &amp;lt; -90, 1, 0),
    angle = ifelse(angle &amp;lt; -90, angle + 180, angle),
    # label
    label_title = glue::glue(&amp;#39;{scales::percent(pct_industry/100, accuracy = 1)} {industry}\n {scales::percent(pct_title/100, accuracy = 1)} {job_title} \n {scales::dollar(median_salary)} median salary&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;# view sunburst data
DT::datatable(survey_burst)&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-8e031b7a9c900f893f42" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-8e031b7a9c900f893f42"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25"],[1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,5,5,5,5,5,4,4,4,4,4],[809,809,809,809,809,317,317,317,317,317,216,216,216,216,216,177,177,177,177,177,122,122,122,122,122],["Computing or Tech","Computing or Tech","Computing or Tech","Computing or Tech","Computing or Tech","Education (Higher Education)","Education (Higher Education)","Education (Higher Education)","Education (Higher Education)","Education (Higher Education)","Nonprofits","Nonprofits","Nonprofits","Nonprofits","Nonprofits","Health care","Health care","Health care","Health care","Health care","Government and Public Administration","Government and Public Administration","Government and Public Administration","Government and Public Administration","Government and Public Administration"],["software engineer","senior software engineer","software developer","product manager","engineering manager","assistant professor","librarian","associate professor","professor","academic advisor","executive director","program manager","director","program coordinator","program director","registered nurse","nurse practitioner","executive assistant","pharmacist","project manager","librarian","analyst","policy analyst","director","manager"],[334,210,99,97,69,104,82,55,41,35,62,58,39,30,27,92,28,19,19,19,39,28,20,18,17],[125000,151500,95000,120000,173500,77250,64800,82000,95000,50000,82000,60000,100000,46425,71350,72900,106785,65000,106840,88000,59000,85650,89074,127500,120000],[72.0461095100865,87.3198847262248,54.7550432276657,69.164265129683,100,44.5244956772334,37.3487031700288,47.2622478386167,54.7550432276657,28.8184438040346,47.2622478386167,34.5821325648415,57.6368876080692,26.7579250720461,41.1239193083574,42.0172910662824,61.5475504322767,37.463976945245,61.5792507204611,50.7204610951009,34.0057636887608,49.3659942363112,51.3394812680115,73.4870317002882,69.164265129683],[1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641,1641],[20.3534430225472,12.7970749542962,6.03290676416819,5.91102985984156,4.20475319926874,6.33759902498477,4.99695307739183,3.35161486898233,2.49847653869592,2.13284582571603,3.77818403412553,3.53443022547227,2.37659963436929,1.82815356489945,1.64533820840951,5.60633759902498,1.70627666057282,1.15783059110299,1.15783059110299,1.15783059110299,2.37659963436929,1.70627666057282,1.2187690432663,1.09689213893967,1.03595368677636],[49.2992078001219,49.2992078001219,49.2992078001219,49.2992078001219,49.2992078001219,19.3174893357709,19.3174893357709,19.3174893357709,19.3174893357709,19.3174893357709,13.1627056672761,13.1627056672761,13.1627056672761,13.1627056672761,13.1627056672761,10.7861060329068,10.7861060329068,10.7861060329068,10.7861060329068,10.7861060329068,7.43449116392444,7.43449116392444,7.43449116392444,7.43449116392444,7.43449116392444],["Com: software engineer","Com: senior software engineer","Com: software developer","Com: product manager","Com: engineering manager","Edu: assistant professor","Edu: librarian","Edu: associate professor","Edu: professor","Edu: academic advisor","Non: executive director","Non: program manager","Non: director","Non: program coordinator","Non: program director","Hea: registered nurse","Hea: nurse practitioner","Hea: executive assistant","Hea: pharmacist","Hea: project manager","Gov: librarian","Gov: analyst","Gov: policy analyst","Gov: director","Gov: manager"],["#830CAB","#830CAB","#830CAB","#830CAB","#830CAB","#6574FA","#6574FA","#6574FA","#6574FA","#6574FA","#3BBCAC","#3BBCAC","#3BBCAC","#3BBCAC","#3BBCAC","#62E44A","#62E44A","#62E44A","#62E44A","#62E44A","#CCEC5A","#CCEC5A","#CCEC5A","#CCEC5A","#CCEC5A"],[5,4,3,2,1,5,4,3,2,1,5,4,3,2,1,5,4,1,2,3,5,4,3,2,1],[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],[1,0.8,0.6,0.4,0.2,1,0.8,0.6,0.4,0.2,1,0.8,0.6,0.4,0.2,1,0.8,0.2,0.4,0.6,1,0.8,0.6,0.4,0.2],["#830CABFF","#830CABCC","#830CAB99","#830CAB66","#830CAB33","#6574FAFF","#6574FACC","#6574FA99","#6574FA66","#6574FA33","#3BBCACFF","#3BBCACCC","#3BBCAC99","#3BBCAC66","#3BBCAC33","#62E44AFF","#62E44ACC","#62E44A33","#62E44A66","#62E44A99","#CCEC5AFF","#CCEC5ACC","#CCEC5A99","#CCEC5A66","#CCEC5A33"],[20.3534430225472,33.1505179768434,39.1834247410116,45.0944546008531,49.2992078001219,6.33759902498477,11.3345521023766,14.6861669713589,17.1846435100548,19.3174893357709,3.77818403412553,7.31261425959781,9.68921389396709,11.5173674588665,13.1627056672761,5.60633759902498,7.31261425959781,8.47044485070079,9.62827544180378,10.7861060329068,2.37659963436929,4.08287629494211,5.30164533820841,6.39853747714808,7.43449116392444],[20.3534430225472,53.5039609993906,92.6873857404022,137.781840341255,187.081048141377,193.418647166362,204.753199268739,219.439366240098,236.624009750152,255.941499085923,259.719683120049,267.032297379647,276.721511273614,288.23887873248,301.401584399756,307.007921998781,314.320536258379,322.79098110908,332.419256550884,343.20536258379,345.58196221816,349.664838513102,354.96648385131,361.365021328458,368.799512492383],[20.3534430225472,33.1505179768434,39.1834247410116,45.0944546008531,49.2992078001219,55.6368068251066,60.6337599024985,63.9853747714808,66.4838513101767,68.6166971358927,72.3948811700183,75.9293113954906,78.3059110298598,80.1340645947593,81.7794028031688,87.3857404021938,89.0920170627666,90.2498476538696,91.4076782449726,92.5655088360756,94.9421084704449,96.6483851310177,97.867154174284,98.9640463132236,100],[20.0534430225472,32.8505179768434,38.8834247410116,44.7944546008531,48.9992078001219,55.3368068251066,60.3337599024985,63.6853747714808,66.1838513101767,68.3166971358928,72.0948811700183,75.6293113954906,78.0059110298598,79.8340645947593,81.4794028031688,87.0857404021938,88.7920170627666,89.9498476538696,91.1076782449726,92.2655088360756,94.6421084704449,96.3483851310177,97.567154174284,98.6640463132237,99.7],[-7.21644966006352e-16,20.3534430225472,33.1505179768434,39.1834247410116,45.0944546008531,49.2992078001219,55.6368068251066,60.6337599024985,63.9853747714808,66.4838513101767,68.6166971358927,72.3948811700183,75.9293113954906,78.3059110298598,80.1340645947593,81.7794028031688,87.3857404021938,89.0920170627666,90.2498476538696,91.4076782449726,92.5655088360756,94.9421084704449,96.6483851310177,97.867154174284,98.9640463132236],[10.0267215112736,26.6019804996953,36.0169713589275,41.9889396709324,47.0468312004875,52.3180073126143,57.9852833638026,62.1595673369896,65.0846130408288,67.4002742230347,70.3557891529555,74.0120962827544,76.9676112126752,79.0699878123096,80.8067336989641,84.4325716026813,88.0888787324802,89.5209323583181,90.6787629494211,91.8365935405241,93.6038086532602,95.6452468007313,97.1077696526508,98.2656002437538,99.3320231566118],[53.903802559415,-5.76712979890311,-39.6610968921389,-61.1601828153565,-79.368592321755,81.6551736745887,61.2529798903108,46.2255575868373,35.6953930530165,27.359012797075,16.7191590493602,3.5564533820841,-7.08340036563072,-14.6519561243144,-20.9042413162706,-33.9572577696526,-47.1199634369287,-52.2753564899452,-56.4435466179158,-60.6117367458866,-66.9737111517368,-74.3228884826325,-79.5879707495429,-83.7561608775138,-87.5952833638026],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],["49% Computing or Tech\n20% software engineer \n$125,000 median salary","49% Computing or Tech\n13% senior software engineer \n$151,500 median salary","49% Computing or Tech\n6% software developer \n$95,000 median salary","49% Computing or Tech\n6% product manager \n$120,000 median salary","49% Computing or Tech\n4% engineering manager \n$173,500 median salary","19% Education (Higher Education)\n6% assistant professor \n$77,250 median salary","19% Education (Higher Education)\n5% librarian \n$64,800 median salary","19% Education (Higher Education)\n3% associate professor \n$82,000 median salary","19% Education (Higher Education)\n2% professor \n$95,000 median salary","19% Education (Higher Education)\n2% academic advisor \n$50,000 median salary","13% Nonprofits\n4% executive director \n$82,000 median salary","13% Nonprofits\n4% program manager \n$60,000 median salary","13% Nonprofits\n2% director \n$100,000 median salary","13% Nonprofits\n2% program coordinator \n$46,425 median salary","13% Nonprofits\n2% program director \n$71,350 median salary","11% Health care\n6% registered nurse \n$72,900 median salary","11% Health care\n2% nurse practitioner \n$106,785 median salary","11% Health care\n1% executive assistant \n$65,000 median salary","11% Health care\n1% pharmacist \n$106,840 median salary","11% Health care\n1% project manager \n$88,000 median salary","7% Government and Public Administration\n2% librarian \n$59,000 median salary","7% Government and Public Administration\n2% analyst \n$85,650 median salary","7% Government and Public Administration\n1% policy analyst \n$89,074 median salary","7% Government and Public Administration\n1% director \n$127,500 median salary","7% Government and Public Administration\n1% manager \n$120,000 median salary"]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;n_industry_rank&lt;\/th&gt;\n      &lt;th&gt;n_industry&lt;\/th&gt;\n      &lt;th&gt;industry&lt;\/th&gt;\n      &lt;th&gt;job_title&lt;\/th&gt;\n      &lt;th&gt;n_title&lt;\/th&gt;\n      &lt;th&gt;median_salary&lt;\/th&gt;\n      &lt;th&gt;median_salary_scaled&lt;\/th&gt;\n      &lt;th&gt;n_total&lt;\/th&gt;\n      &lt;th&gt;pct_title&lt;\/th&gt;\n      &lt;th&gt;pct_industry&lt;\/th&gt;\n      &lt;th&gt;title_unique&lt;\/th&gt;\n      &lt;th&gt;color_industry&lt;\/th&gt;\n      &lt;th&gt;id_title&lt;\/th&gt;\n      &lt;th&gt;num_title&lt;\/th&gt;\n      &lt;th&gt;color_trans&lt;\/th&gt;\n      &lt;th&gt;color_title&lt;\/th&gt;\n      &lt;th&gt;cum_title_pct&lt;\/th&gt;\n      &lt;th&gt;cum_industry_pct&lt;\/th&gt;\n      &lt;th&gt;cum_all&lt;\/th&gt;\n      &lt;th&gt;rect_x_max&lt;\/th&gt;\n      &lt;th&gt;rect_x_min&lt;\/th&gt;\n      &lt;th&gt;rect_x_mid&lt;\/th&gt;\n      &lt;th&gt;angle&lt;\/th&gt;\n      &lt;th&gt;hjust&lt;\/th&gt;\n      &lt;th&gt;label_title&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,5,6,7,8,9,10,13,14,15,17,18,19,20,21,22,23,24]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h2 id="combine-colors"&gt;Combine colors&lt;/h2&gt;
&lt;p&gt;Combine all industry and title colors in a single vector.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;colors_title &amp;lt;- survey_burst[[&amp;quot;color_title&amp;quot;]] %&amp;gt;% 
  set_names(survey_burst[[&amp;quot;title_unique&amp;quot;]])

all_colors &amp;lt;- c(colors_industry, colors_title)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="inner-ring"&gt;Inner ring&lt;/h2&gt;
&lt;p&gt;Lastly in data prep, we create a smaller data set of rectangle coordinates just for the industries.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# create an inner ring for industry ----
layer_industry &amp;lt;- survey_burst %&amp;gt;% 
  dplyr::select(industry, pct_industry, rect_x_max, rect_x_min) %&amp;gt;% 
  # first, get stopping point for each rectangle ----
  arrange(industry, desc(rect_x_max)) %&amp;gt;% 
  group_by(industry) %&amp;gt;%
  # keep one entry per industry ----
  slice(1) %&amp;gt;% 
  ungroup() %&amp;gt;% 
  dplyr::select(industry, pct_industry, stop = rect_x_max) %&amp;gt;% 
  # second, get starting point for each rectangle ----
  left_join(
    survey_burst %&amp;gt;% 
      dplyr::select(industry, pct_industry, rect_x_max, rect_x_min) %&amp;gt;% 
      arrange(industry, rect_x_max) %&amp;gt;% 
      group_by(industry) %&amp;gt;% 
      slice(1) %&amp;gt;% 
      ungroup() %&amp;gt;% 
      dplyr::select(industry, pct_industry, start = rect_x_min),
    by = c(&amp;quot;industry&amp;quot;, &amp;quot;pct_industry&amp;quot;)
  ) %&amp;gt;% 
  # insert blank row for extra white space where circle starts/stops ---
  bind_rows(
    tibble(
      attr_category = NA, 
      start = 99.7, 
      stop = 100.1)
  ) %&amp;gt;% 
  mutate(
    # compute midpoint for labeling if needed ----
    mid = (stop - start)/2 + start,
    # a label for industry pct ----
    industry_label = ifelse(is.na(industry), NA, glue::glue(&amp;#39;{industry}\n{scales::percent(pct_industry/100, accuracy = 1)}&amp;#39;))
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;# view industry rectangles
DT::datatable(layer_industry)&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-ae3afcdd8a2512c699d5" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-ae3afcdd8a2512c699d5"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6"],["Computing or Tech","Education (Higher Education)","Nonprofits","Health care","Government and Public Administration",null],[49.2992078001219,19.3174893357709,13.1627056672761,10.7861060329068,7.43449116392444,null],[48.9992078001219,68.3166971358928,81.4794028031688,92.2655088360756,99.7,100.1],[-7.21644966006352e-16,49.2992078001219,68.6166971358927,81.7794028031688,92.5655088360756,99.7],[null,null,null,null,null,null],[24.4996039000609,58.8079524680073,75.0480499695308,87.0224558196222,96.1327544180378,99.9],["Computing or Tech\n49%","Education (Higher Education)\n19%","Nonprofits\n13%","Health care\n11%","Government and Public Administration\n7%",null]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;industry&lt;\/th&gt;\n      &lt;th&gt;pct_industry&lt;\/th&gt;\n      &lt;th&gt;stop&lt;\/th&gt;\n      &lt;th&gt;start&lt;\/th&gt;\n      &lt;th&gt;attr_category&lt;\/th&gt;\n      &lt;th&gt;mid&lt;\/th&gt;\n      &lt;th&gt;industry_label&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h1 id="sunbursts"&gt;Sunbursts&lt;/h1&gt;
&lt;h2 id="variable-length-sunburst"&gt;Variable length sunburst&lt;/h2&gt;
&lt;p&gt;Finally, we can plot! This first figure has variable length bars, which are represented by the scaled median salary.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;survey_burst %&amp;gt;% 
  # title ring ----
ggplot(aes(
  ymin = 1,
  # variable length bars
  ymax = median_salary_scaled, 
  xmin = rect_x_min, 
  xmax = rect_x_max,
  fill = title_unique
 )) +
  geom_rect(show.legend = FALSE) +
  coord_polar() +
  theme_minimal() +
  theme(
    axis.text.x = element_blank(), 
    axis.text.y = element_blank(),
    panel.grid = element_blank(),
    legend.position = &amp;quot;none&amp;quot;,
  ) +
  # fiddle with what you like here for white space
  ylim(-40, 100) +
  scale_fill_manual(values = all_colors) +
  # inner industry ring ----
  geom_rect(
    data = layer_industry,
    aes(
      ymin = -20,
      ymax = 0, 
      xmin = start, 
      xmax = stop,
      fill = industry
    )
  ) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file14f4174e19ca_files/figure-html/unnamed-chunk-12-1.png" width="672" /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;  # could add reference line of some sort
  # geom_hline(yintercept = 50, color = &amp;quot;gray&amp;quot;, lty = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Well, it is an example! Not quite as aesthetically appealing as my original example shown in the tweet, but it will do to put code to the page.&lt;/p&gt;
&lt;p&gt;Although I think this figure can be eye-catching, it is challenging to make it informative with labeling and still maintain appeal.&lt;/p&gt;
&lt;h2 id="fixed-length-sunburst"&gt;Fixed length sunburst&lt;/h2&gt;
&lt;p&gt;For a simpler alternative, drop the job title metric of median salary and only show the frequency of industry and title in survey respondents by fixing the rectangle height. This figure can effectively communicate parts of a whole.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;survey_burst %&amp;gt;% 
  # title ring ----
ggplot(aes(
  ymin = 1,
  # fix rectangle height here
  ymax = 20, 
  xmin = rect_x_min, 
  xmax = rect_x_max,
  fill = title_unique
 )) +
  geom_rect(show.legend = FALSE) +
  coord_polar() +
  theme_minimal() +
  theme(
    axis.text.x = element_blank(), 
    axis.text.y = element_blank(),
    panel.grid = element_blank(),
    legend.position = &amp;quot;none&amp;quot;,
  ) +
  ylim(-40, 40) +
  scale_fill_manual(values = all_colors) +
  # industry ring ----
  geom_rect(
    data = layer_industry,
    aes(
      ymin = -20,
      ymax = 0, 
      xmin = start, 
      xmax = stop,
      fill = industry
    )
  ) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file14f4174e19ca_files/figure-html/unnamed-chunk-13-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h2 id="interactive-sunburst"&gt;Interactive sunburst&lt;/h2&gt;
&lt;pre class="r"&gt;&lt;code&gt;gg_interactive &amp;lt;- survey_burst %&amp;gt;% 
  # title ring ----
ggplot(aes(
  ymin = 1,
  # fix rectangle height here
  ymax = 20, 
  xmin = rect_x_min, 
  xmax = rect_x_max,
  fill = title_unique
 )) +
  ggiraph::geom_rect_interactive(aes( # add id for tooltip ---
  tooltip = label_title), show.legend = FALSE) +
  coord_polar() +
  theme_minimal() +
  theme(
    axis.text.x = element_blank(), 
    axis.text.y = element_blank(),
    panel.grid = element_blank(),
    legend.position = &amp;quot;none&amp;quot;,
  ) +
  ylim(-40, 40) +
  scale_fill_manual(values = all_colors) +
  # industry ring ----
  geom_rect(
    data = layer_industry,
    aes(
      ymin = -20,
      ymax = 0, 
      xmin = start, 
      xmax = stop,
      fill = industry
    )
  ) &lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;girafe(ggobj = gg_interactive,
       options = list(opts_tooltip(use_fill = TRUE)))&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-99447bba9d1a7bb5fdaa" style="width:672px;height:480px;" class="girafe html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-99447bba9d1a7bb5fdaa"&gt;{"x":{"html":"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' id='svg_f9275456-e635-4b62-a108-e3de21139578' viewBox='0 0 432.00 360.00'&gt;\n  &lt;g&gt;\n    &lt;defs&gt;\n      &lt;clipPath id='svg_f9275456-e635-4b62-a108-e3de21139578_cl_1'&gt;\n        &lt;rect x='0.00' y='0.00' width='432.00' height='360.00'/&gt;\n      &lt;\/clipPath&gt;\n    &lt;\/defs&gt;\n    &lt;rect x='0.00' y='0.00' width='432.00' height='360.00' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_1' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_1)' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round'/&gt;\n    &lt;defs&gt;\n      &lt;clipPath id='svg_f9275456-e635-4b62-a108-e3de21139578_cl_2'&gt;\n        &lt;rect x='0.00' y='0.00' width='432.00' height='360.00'/&gt;\n      &lt;\/clipPath&gt;\n    &lt;\/defs&gt;\n    &lt;defs&gt;\n      &lt;clipPath id='svg_f9275456-e635-4b62-a108-e3de21139578_cl_3'&gt;\n        &lt;rect x='36.00' y='0.00' width='360.00' height='360.00'/&gt;\n      &lt;\/clipPath&gt;\n    &lt;\/defs&gt;\n    &lt;defs&gt;\n      &lt;clipPath id='svg_f9275456-e635-4b62-a108-e3de21139578_cl_4'&gt;\n        &lt;rect x='0.00' y='0.00' width='432.00' height='360.00'/&gt;\n      &lt;\/clipPath&gt;\n    &lt;\/defs&gt;\n    &lt;defs&gt;\n      &lt;clipPath id='svg_f9275456-e635-4b62-a108-e3de21139578_cl_5'&gt;\n        &lt;rect x='44.22' y='5.48' width='346.30' height='346.30'/&gt;\n      &lt;\/clipPath&gt;\n    &lt;\/defs&gt;\n    &lt;polygon points='217.37,74.74 222.21,74.85 227.04,75.19 231.85,75.75 236.63,76.54 241.37,77.55 246.05,78.78 250.67,80.22 255.22,81.88 259.69,83.75 264.07,85.83 268.34,88.10 272.51,90.58 276.55,93.24 280.46,96.09 284.24,99.12 287.87,102.33 291.35,105.69 294.67,109.22 297.82,112.90 300.80,116.72 303.59,120.68 306.20,124.76 308.61,128.96 310.83,133.26 312.84,137.67 314.65,142.16 316.24,146.73 311.77,148.18 307.30,149.62 302.82,151.06 298.35,152.51 293.88,153.95 289.41,155.39 284.93,156.83 283.34,152.41 281.46,148.10 279.30,143.92 276.87,139.90 274.17,136.05 271.23,132.38 268.05,128.92 264.65,125.67 261.04,122.66 257.23,119.89 253.26,117.38 249.12,115.14 244.85,113.17 240.46,111.50 235.96,110.12 231.39,109.04 226.75,108.26 222.07,107.79 217.37,107.64 217.37,102.94 217.37,98.24 217.37,93.54 217.37,88.84 217.37,84.14 217.37,79.44 217.37,74.74' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_2' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#830CAB' fill-opacity='1' stroke='none' title='49% Computing or Tech&amp;amp;lt;br&amp;amp;gt;20% software engineer &amp;amp;lt;br&amp;amp;gt;$125,000 median salary'/&gt;\n    &lt;polygon points='316.83,148.60 318.11,153.22 319.17,157.89 320.02,162.61 320.65,167.36 321.06,172.14 321.25,176.93 321.21,181.72 320.96,186.51 320.49,191.28 319.79,196.02 318.88,200.73 317.76,205.39 316.41,209.99 314.86,214.52 313.10,218.98 311.14,223.36 308.98,227.63 304.83,225.42 300.69,223.20 296.54,220.98 292.40,218.77 288.26,216.55 284.11,214.33 279.97,212.12 282.19,207.57 284.09,202.88 285.65,198.06 286.86,193.15 287.72,188.16 288.22,183.12 288.36,178.06 288.14,173.01 287.56,167.98 286.62,163.00 285.33,158.11 289.83,156.75 294.33,155.39 298.83,154.03 303.33,152.68 307.83,151.32 312.33,149.96 316.83,148.60' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_3' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#830CAB' fill-opacity='0.8' stroke='none' title='49% Computing or Tech&amp;amp;lt;br&amp;amp;gt;13% senior software engineer &amp;amp;lt;br&amp;amp;gt;$151,500 median salary'/&gt;\n    &lt;polygon points='308.04,229.35 305.31,233.94 302.35,238.39 299.17,242.68 295.77,246.79 292.17,250.73 288.36,254.48 284.37,258.03 281.34,254.44 278.31,250.84 275.28,247.25 272.25,243.66 269.22,240.07 266.18,236.48 263.15,232.89 266.94,229.45 270.46,225.76 273.71,221.82 276.67,217.65 279.33,213.29 283.43,215.58 287.53,217.88 291.63,220.17 295.73,222.47 299.83,224.76 303.94,227.06 308.04,229.35' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_4' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#830CAB' fill-opacity='0.6' stroke='none' title='49% Computing or Tech&amp;amp;lt;br&amp;amp;gt;6% software developer &amp;amp;lt;br&amp;amp;gt;$95,000 median salary'/&gt;\n    &lt;polygon points='282.86,259.28 278.72,262.47 274.43,265.45 269.99,268.21 265.42,270.74 260.73,273.04 255.92,275.10 251.02,276.92 249.50,272.47 247.98,268.03 246.46,263.58 244.93,259.13 243.41,254.69 241.89,250.24 240.37,245.79 245.04,244.01 249.57,241.90 253.94,239.48 258.13,236.75 262.12,233.74 265.09,237.39 268.05,241.03 271.01,244.68 273.98,248.33 276.94,251.98 279.90,255.63 282.86,259.28' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_5' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#830CAB' fill-opacity='0.4' stroke='none' title='49% Computing or Tech&amp;amp;lt;br&amp;amp;gt;6% product manager &amp;amp;lt;br&amp;amp;gt;$120,000 median salary'/&gt;\n    &lt;polygon points='249.17,277.53 244.28,278.97 239.33,280.17 234.33,281.13 229.29,281.83 224.22,282.29 223.91,277.61 223.60,272.92 223.29,268.23 222.98,263.54 222.67,258.85 222.36,254.16 222.05,249.47 227.81,248.85 233.51,247.76 239.10,246.22 240.54,250.69 241.97,255.16 243.41,259.64 244.85,264.11 246.29,268.59 247.73,273.06 249.17,277.53' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_6' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#830CAB' fill-opacity='0.2' stroke='none' title='49% Computing or Tech&amp;amp;lt;br&amp;amp;gt;4% engineering manager &amp;amp;lt;br&amp;amp;gt;$173,500 median salary'/&gt;\n    &lt;polygon points='222.26,282.41 217.34,282.52 212.42,282.40 207.52,282.05 202.63,281.47 197.78,280.66 192.97,279.61 188.21,278.35 183.52,276.85 185.05,272.41 186.59,267.97 188.12,263.52 189.65,259.08 191.18,254.64 192.71,250.19 194.24,245.75 199.39,247.31 204.64,248.47 209.97,249.23 215.33,249.59 220.71,249.54 220.94,254.24 221.16,258.93 221.38,263.63 221.60,268.32 221.82,273.02 222.04,277.71 222.26,282.41' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_7' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#6574FA' fill-opacity='1' stroke='none' title='19% Education (Higher Education)&amp;amp;lt;br&amp;amp;gt;6% assistant professor &amp;amp;lt;br&amp;amp;gt;$77,250 median salary'/&gt;\n    &lt;polygon points='181.68,276.20 176.93,274.33 172.28,272.23 167.74,269.90 163.31,267.35 159.02,264.59 154.87,261.62 157.70,257.86 160.52,254.11 163.35,250.35 166.18,246.60 169.01,242.85 171.83,239.09 174.66,235.34 178.95,238.33 183.45,241.00 188.14,243.32 192.98,245.30 191.37,249.72 189.75,254.13 188.14,258.54 186.52,262.96 184.91,267.37 183.29,271.78 181.68,276.20' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_8' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#6574FA' fill-opacity='0.8' stroke='none' title='19% Education (Higher Education)&amp;amp;lt;br&amp;amp;gt;5% librarian &amp;amp;lt;br&amp;amp;gt;$64,800 median salary'/&gt;\n    &lt;polygon points='153.32,260.43 149.48,257.27 145.79,253.93 142.27,250.41 138.92,246.74 142.47,243.65 146.02,240.57 149.56,237.49 153.11,234.41 156.66,231.33 160.21,228.25 163.76,225.17 168.46,230.08 173.60,234.52 170.70,238.22 167.81,241.92 164.91,245.62 162.01,249.33 159.11,253.03 156.22,256.73 153.32,260.43' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_9' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#6574FA' fill-opacity='0.6' stroke='none' title='19% Education (Higher Education)&amp;amp;lt;br&amp;amp;gt;3% associate professor &amp;amp;lt;br&amp;amp;gt;$82,000 median salary'/&gt;\n    &lt;polygon points='137.65,245.25 134.67,241.51 131.87,237.64 129.24,233.65 133.23,231.16 137.22,228.67 141.20,226.18 145.19,223.69 149.18,221.20 153.16,218.71 157.15,216.22 159.88,220.29 162.89,224.15 159.29,227.17 155.68,230.18 152.07,233.19 148.47,236.21 144.86,239.22 141.26,242.23 137.65,245.25' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_10' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#6574FA' fill-opacity='0.4' stroke='none' title='19% Education (Higher Education)&amp;amp;lt;br&amp;amp;gt;2% professor &amp;amp;lt;br&amp;amp;gt;$95,000 median salary'/&gt;\n    &lt;polygon points='128.22,231.98 125.30,226.76 122.69,221.39 126.97,219.46 131.25,217.52 135.54,215.59 139.82,213.65 144.10,211.72 148.39,209.79 152.67,207.85 156.45,215.08 152.42,217.50 148.39,219.91 144.35,222.32 140.32,224.74 136.29,227.15 132.26,229.56 128.22,231.98' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_11' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#6574FA' fill-opacity='0.2' stroke='none' title='19% Education (Higher Education)&amp;amp;lt;br&amp;amp;gt;2% academic advisor &amp;amp;lt;br&amp;amp;gt;$50,000 median salary'/&gt;\n    &lt;polygon points='121.90,219.60 119.81,214.33 118.00,208.96 116.50,203.49 115.29,197.95 119.91,197.08 124.53,196.20 129.15,195.33 133.76,194.45 138.38,193.58 143.00,192.71 147.62,191.83 148.76,196.87 150.27,201.81 152.13,206.63 147.81,208.48 143.49,210.33 139.18,212.19 134.86,214.04 130.54,215.89 126.22,217.75 121.90,219.60' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_12' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#3BBCAC' fill-opacity='1' stroke='none' title='13% Nonprofits&amp;amp;lt;br&amp;amp;gt;4% executive director &amp;amp;lt;br&amp;amp;gt;$82,000 median salary'/&gt;\n    &lt;polygon points='114.95,196.03 114.20,190.81 113.71,185.56 113.49,180.29 113.54,175.02 118.24,175.18 122.94,175.34 127.63,175.51 132.33,175.67 137.03,175.83 141.72,176.00 146.42,176.16 146.42,180.96 146.74,185.76 147.38,190.52 142.75,191.30 138.11,192.09 133.48,192.88 128.85,193.66 124.21,194.45 119.58,195.24 114.95,196.03' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_13' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#3BBCAC' fill-opacity='0.8' stroke='none' title='13% Nonprofits&amp;amp;lt;br&amp;amp;gt;4% program manager &amp;amp;lt;br&amp;amp;gt;$60,000 median salary'/&gt;\n    &lt;polygon points='113.63,173.06 114.21,166.32 115.23,159.62 119.85,160.48 124.47,161.34 129.09,162.20 133.71,163.06 138.34,163.92 142.96,164.78 147.58,165.64 146.48,174.83 141.79,174.57 137.09,174.32 132.40,174.07 127.71,173.82 123.01,173.57 118.32,173.31 113.63,173.06' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_14' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#3BBCAC' fill-opacity='0.6' stroke='none' title='13% Nonprofits&amp;amp;lt;br&amp;amp;gt;2% director &amp;amp;lt;br&amp;amp;gt;$100,000 median salary'/&gt;\n    &lt;polygon points='115.61,157.71 116.73,152.85 118.08,148.06 122.57,149.44 127.06,150.82 131.56,152.20 136.05,153.59 140.54,154.97 145.03,156.35 149.52,157.74 147.83,164.33 143.23,163.38 138.63,162.44 134.02,161.49 129.42,160.54 124.82,159.60 120.21,158.65 115.61,157.71' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_15' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#3BBCAC' fill-opacity='0.4' stroke='none' title='13% Nonprofits&amp;amp;lt;br&amp;amp;gt;2% program coordinator &amp;amp;lt;br&amp;amp;gt;$46,425 median salary'/&gt;\n    &lt;polygon points='118.67,146.19 121.76,137.98 126.09,139.82 130.41,141.66 134.74,143.50 139.06,145.34 143.39,147.18 147.71,149.02 152.04,150.85 149.93,156.46 145.46,155.00 141.00,153.53 136.53,152.06 132.07,150.59 127.60,149.13 123.14,147.66 118.67,146.19' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_16' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#3BBCAC' fill-opacity='0.2' stroke='none' title='13% Nonprofits&amp;amp;lt;br&amp;amp;gt;2% program director &amp;amp;lt;br&amp;amp;gt;$71,350 median salary'/&gt;\n    &lt;polygon points='122.54,136.19 124.67,131.73 127.01,127.37 129.55,123.13 132.29,119.02 135.22,115.04 138.33,111.20 141.63,107.52 145.06,110.74 148.48,113.95 151.91,117.17 155.34,120.39 158.76,123.60 162.19,126.82 165.62,130.04 162.50,133.59 159.62,137.34 157.00,141.28 154.65,145.38 152.57,149.63 148.28,147.71 143.99,145.79 139.70,143.87 135.41,141.95 131.12,140.03 126.83,138.11 122.54,136.19' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_17' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#62E44A' fill-opacity='1' stroke='none' title='11% Health care&amp;amp;lt;br&amp;amp;gt;6% registered nurse &amp;amp;lt;br&amp;amp;gt;$72,900 median salary'/&gt;\n    &lt;polygon points='142.98,106.10 149.67,99.83 152.73,103.39 155.79,106.96 158.86,110.52 161.92,114.09 164.98,117.65 168.04,121.22 171.11,124.78 166.54,129.07 163.17,125.79 159.81,122.51 156.44,119.23 153.08,115.95 149.71,112.67 146.35,109.39 142.98,106.10' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_18' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#62E44A' fill-opacity='0.8' stroke='none' title='11% Health care&amp;amp;lt;br&amp;amp;gt;2% nurse practitioner &amp;amp;lt;br&amp;amp;gt;$106,785 median salary'/&gt;\n    &lt;polygon points='151.16,98.57 155.57,95.12 158.36,98.90 161.16,102.68 163.96,106.45 166.75,110.23 169.55,114.01 172.34,117.79 175.14,121.57 172.13,123.92 169.13,120.30 166.14,116.68 163.14,113.06 160.15,109.43 157.15,105.81 154.16,102.19 151.16,98.57' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_19' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#62E44A' fill-opacity='0.2' stroke='none' title='11% Health care&amp;amp;lt;br&amp;amp;gt;1% executive assistant &amp;amp;lt;br&amp;amp;gt;$65,000 median salary'/&gt;\n    &lt;polygon points='157.15,93.97 161.79,90.85 164.31,94.83 166.82,98.80 169.34,102.77 171.85,106.74 174.37,110.71 176.88,114.68 179.39,118.65 176.22,120.78 173.50,116.95 170.77,113.12 168.05,109.29 165.32,105.46 162.60,101.63 159.88,97.80 157.15,93.97' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_20' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#62E44A' fill-opacity='0.4' stroke='none' title='11% Health care&amp;amp;lt;br&amp;amp;gt;1% pharmacist &amp;amp;lt;br&amp;amp;gt;$106,840 median salary'/&gt;\n    &lt;polygon points='163.46,89.82 168.31,87.05 170.53,91.19 172.75,95.34 174.97,99.48 177.19,103.62 179.41,107.77 181.63,111.91 183.85,116.05 180.53,117.95 178.09,113.93 175.65,109.91 173.21,105.89 170.77,101.88 168.33,97.86 165.90,93.84 163.46,89.82' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_21' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#62E44A' fill-opacity='0.6' stroke='none' title='11% Health care&amp;amp;lt;br&amp;amp;gt;1% project manager &amp;amp;lt;br&amp;amp;gt;$88,000 median salary'/&gt;\n    &lt;polygon points='170.05,86.14 176.17,83.26 182.47,80.78 184.05,85.20 185.63,89.63 187.21,94.06 188.79,98.48 190.36,102.91 191.94,107.34 193.52,111.76 185.03,115.43 182.89,111.25 180.75,107.06 178.61,102.88 176.47,98.69 174.33,94.51 172.19,90.33 170.05,86.14' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_22' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#CCEC5A' fill-opacity='1' stroke='none' title='7% Government and Public Administration&amp;amp;lt;br&amp;amp;gt;2% librarian &amp;amp;lt;br&amp;amp;gt;$59,000 median salary'/&gt;\n    &lt;polygon points='184.32,80.14 193.13,77.61 194.23,82.18 195.32,86.75 196.42,91.32 197.52,95.89 198.61,100.46 199.71,105.03 200.81,109.60 194.79,111.33 193.29,106.87 191.79,102.42 190.30,97.96 188.80,93.50 187.31,89.05 185.81,84.59 184.32,80.14' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_23' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#CCEC5A' fill-opacity='0.8' stroke='none' title='7% Government and Public Administration&amp;amp;lt;br&amp;amp;gt;2% analyst &amp;amp;lt;br&amp;amp;gt;$85,650 median salary'/&gt;\n    &lt;polygon points='195.04,77.17 200.92,76.05 201.67,80.69 202.41,85.33 203.15,89.97 203.90,94.61 204.64,99.25 205.39,103.89 206.13,108.53 202.11,109.30 201.10,104.71 200.09,100.12 199.08,95.53 198.07,90.94 197.06,86.35 196.05,81.76 195.04,77.17' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_24' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#CCEC5A' fill-opacity='0.6' stroke='none' title='7% Government and Public Administration&amp;amp;lt;br&amp;amp;gt;1% policy analyst &amp;amp;lt;br&amp;amp;gt;$89,074 median salary'/&gt;\n    &lt;polygon points='202.86,75.76 208.02,75.16 208.44,79.84 208.86,84.52 209.29,89.20 209.71,93.88 210.13,98.57 210.56,103.25 210.98,107.93 207.45,108.33 206.80,103.68 206.14,99.03 205.48,94.37 204.83,89.72 204.17,85.07 203.51,80.41 202.86,75.76' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_25' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#CCEC5A' fill-opacity='0.4' stroke='none' title='7% Government and Public Administration&amp;amp;lt;br&amp;amp;gt;1% director &amp;amp;lt;br&amp;amp;gt;$127,500 median salary'/&gt;\n    &lt;polygon points='209.97,75.00 214.76,74.77 214.88,79.47 215.00,84.17 215.12,88.87 215.23,93.57 215.35,98.26 215.47,102.96 215.59,107.66 212.31,107.82 211.98,103.13 211.64,98.44 211.31,93.76 210.97,89.07 210.64,84.38 210.30,79.69 209.97,75.00' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_26' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#CCEC5A' fill-opacity='0.2' stroke='none' title='7% Government and Public Administration&amp;amp;lt;br&amp;amp;gt;1% manager &amp;amp;lt;br&amp;amp;gt;$120,000 median salary'/&gt;\n    &lt;polygon points='217.37,109.37 222.10,109.53 226.81,110.02 231.47,110.82 236.07,111.94 240.58,113.37 244.98,115.11 249.26,117.15 253.38,119.47 257.34,122.07 261.11,124.93 264.67,128.04 268.02,131.39 271.13,134.96 273.98,138.73 276.58,142.69 278.89,146.82 280.92,151.09 282.65,155.50 284.08,160.01 285.20,164.61 286.00,169.27 286.47,173.98 286.63,178.71 286.46,183.44 285.97,188.15 285.16,192.81 284.04,197.41 282.60,201.92 280.85,206.32 278.82,210.59 276.49,214.71 273.89,218.67 271.02,222.43 267.90,225.99 264.55,229.33 260.98,232.44 257.20,235.29 253.24,237.88 249.11,240.19 244.83,242.21 240.42,243.94 235.91,245.36 231.31,246.47 226.64,247.27 221.93,247.74 221.61,242.80 221.28,237.87 220.96,232.93 220.63,227.99 220.30,223.06 219.98,218.12 219.65,213.18 224.45,212.53 229.10,211.21 233.53,209.26 237.64,206.71 241.35,203.61 244.60,200.03 247.31,196.02 249.45,191.68 250.95,187.08 251.80,182.32 251.98,177.49 251.48,172.68 250.32,167.98 248.52,163.49 246.10,159.30 243.13,155.49 239.65,152.12 235.74,149.27 231.47,147.00 226.93,145.34 222.20,144.34 217.37,144.00 217.37,139.05 217.37,134.11 217.37,129.16 217.37,124.21 217.37,119.26 217.37,114.32 217.37,109.37' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_27' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#830CAB' fill-opacity='1' stroke='none'/&gt;\n    &lt;polygon points='220.63,247.81 215.77,247.87 210.92,247.59 206.09,246.97 201.33,246.01 196.64,244.72 192.05,243.10 187.59,241.16 183.28,238.92 179.13,236.38 175.18,233.55 171.43,230.46 167.90,227.11 164.62,223.52 161.60,219.71 158.86,215.69 156.40,211.50 154.25,207.14 158.76,205.10 163.27,203.07 167.77,201.03 172.28,198.99 176.79,196.96 181.30,194.92 185.81,192.88 188.28,197.42 191.40,201.53 195.09,205.14 199.28,208.16 203.87,210.52 208.76,212.17 213.84,213.08 219.00,213.22 219.23,218.16 219.47,223.11 219.70,228.05 219.93,232.99 220.17,237.93 220.40,242.87 220.63,247.81' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_28' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#6574FA' fill-opacity='1' stroke='none'/&gt;\n    &lt;polygon points='153.72,205.94 151.89,201.20 150.41,196.34 149.29,191.38 148.54,186.36 148.16,181.29 148.15,176.21 148.52,171.14 149.25,166.11 150.35,161.15 151.82,156.28 153.63,151.53 158.18,153.47 162.74,155.40 167.29,157.34 171.84,159.27 176.39,161.21 180.95,163.15 185.50,165.08 183.74,170.38 182.85,175.90 182.86,181.48 183.76,186.99 185.55,192.29 181.00,194.24 176.45,196.19 171.91,198.14 167.36,200.09 162.82,202.04 158.27,203.99 153.72,205.94' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_29' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#3BBCAC' fill-opacity='1' stroke='none'/&gt;\n    &lt;polygon points='154.15,150.34 156.39,145.79 158.95,141.42 161.83,137.26 165.00,133.31 168.45,129.60 172.16,126.16 176.12,123.00 180.29,120.13 184.67,117.58 187.00,121.94 189.34,126.30 191.67,130.66 194.01,135.02 196.35,139.38 198.68,143.74 201.02,148.10 196.24,151.19 192.03,155.03 188.51,159.50 185.76,164.48 181.25,162.46 176.73,160.44 172.21,158.42 167.70,156.40 163.18,154.38 158.67,152.36 154.15,150.34' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_30' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#62E44A' fill-opacity='1' stroke='none'/&gt;\n    &lt;polygon points='185.82,116.97 190.51,114.79 195.34,112.97 200.30,111.51 205.35,110.42 210.47,109.71 215.63,109.39 215.76,114.34 215.88,119.28 216.00,124.23 216.13,129.17 216.25,134.12 216.38,139.07 216.50,144.01 211.36,144.53 206.36,145.80 201.60,147.80 199.34,143.40 197.09,138.99 194.84,134.59 192.58,130.18 190.33,125.78 188.08,121.38 185.82,116.97' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_31' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='#CCEC5A' fill-opacity='1' stroke='none'/&gt;\n    &lt;polyline points='215.63,109.39 217.37,109.37 217.37,114.32 217.37,119.26 217.37,124.21 217.37,129.16 217.37,134.11 217.37,139.05 217.37,144.00 216.50,144.01 216.38,139.07 216.25,134.12 216.13,129.17 216.00,124.23 215.88,119.28 215.76,114.34 215.63,109.39 215.63,109.39' id='svg_f9275456-e635-4b62-a108-e3de21139578_el_32' clip-path='url(#svg_f9275456-e635-4b62-a108-e3de21139578_cl_5)' fill='none' stroke='none'/&gt;\n    &lt;defs&gt;\n      &lt;clipPath id='svg_f9275456-e635-4b62-a108-e3de21139578_cl_6'&gt;\n        &lt;rect x='0.00' y='0.00' width='432.00' height='360.00'/&gt;\n      &lt;\/clipPath&gt;\n    &lt;\/defs&gt;\n  &lt;\/g&gt;\n&lt;\/svg&gt;","js":null,"uid":"svg_f9275456-e635-4b62-a108-e3de21139578","ratio":1.2,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px 2px 2px 2px ; position:absolute;pointer-events:none;z-index:999;}\n","offx":10,"offy":0,"use_cursor_pos":true,"opacity":0.9,"usefill":true,"usestroke":false,"delay":{"over":200,"out":500}},"hover":{"css":".hover_SVGID_ { fill:orange;stroke:gray; }\n","reactive":false},"hoverkey":{"css":".hover_key_SVGID_ { stroke:red; }\n","reactive":false},"hovertheme":{"css":".hover_theme_SVGID_ { fill:green; }\n","reactive":false},"hoverinv":{"css":""},"zoom":{"min":1,"max":1},"capture":{"css":".selected_SVGID_ { fill:red;stroke:gray; }\n","type":"multiple","only_shiny":true,"selected":[]},"capturekey":{"css":".selected_key_SVGID_ { stroke:gray; }\n","type":"single","only_shiny":true,"selected":[]},"capturetheme":{"css":".selected_theme_SVGID_ { stroke:gray; }\n","type":"single","only_shiny":true,"selected":[]},"toolbar":{"position":"topright","saveaspng":true,"pngname":"diagram"},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h1 id="for-fun"&gt;For fun&lt;/h1&gt;
&lt;p&gt;I did experiment with some variations on this figure that did not make the cut!&lt;/p&gt;
&lt;blockquote class="twitter-tweet"&gt;
&lt;p lang="en" dir="ltr"&gt;
Monday's work 🤔🥰 &lt;a href="https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#rstats&lt;/a&gt; &lt;a href="https://twitter.com/hashtag/ggplot?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#ggplot&lt;/a&gt; &lt;a href="https://t.co/GbZWLhLeDA"&gt;pic.twitter.com/GbZWLhLeDA&lt;/a&gt;
&lt;/p&gt;
— Shannon Pileggi (&lt;span class="citation"&gt;@PipingHotData&lt;/span&gt;) &lt;a href="https://twitter.com/PipingHotData/status/1224700519496765440?ref_src=twsrc%5Etfw"&gt;February 4, 2020&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>dbe56724294bb0c082989f777e84276c</distill:md5>
      <guid>https://www.pipinghotdata.com/posts/2021-04-03-sunburst</guid>
      <pubDate>Sat, 03 Apr 2021 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2021-04-03-sunburst/sunburst_files/figure-html5/unnamed-chunk-12-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Deploy previews with Netlifly</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2021-04-01-deploy-previews-with-netlifly</link>
      <description>


&lt;h1 id="tl-dr"&gt;TL; DR&lt;/h1&gt;
&lt;p&gt;If you are deploying your &lt;a href="https://rstudio.github.io/distill/" target="_blank"&gt;{distill}&lt;/a&gt; website through Netlifly, you can enable &lt;a href="https://docs.netlify.com/site-deploys/overview/#definitions" target="_blank"&gt;deploy previews&lt;/a&gt; to create temporary urls to preview a branch.&lt;/p&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;My usual website workflow so far has been to draft posts in my master branch with &lt;code&gt;draft: true&lt;/code&gt; in the &lt;code&gt;yaml&lt;/code&gt;, and then when I am ready to publish switch to &lt;code&gt;draft: false&lt;/code&gt; and commit to my main/master branch. Recently, I’ve been inspired to try alternative workflows:&lt;/p&gt;
&lt;blockquote class="twitter-tweet"&gt;
&lt;p lang="en" dir="ltr"&gt;
I’m also a huge convert to the church of making PRs to yourself. Start with an R Markdown project like a simple slide deck or a bookdown book, then get into the habit of every change is a branch + PR. Low cost, but teaches you a lot! &lt;a href="https://t.co/Ee3tuoS4Ef"&gt;pic.twitter.com/Ee3tuoS4Ef&lt;/a&gt;
&lt;/p&gt;
— Alison Presmanes Hill (&lt;span class="citation"&gt;@apreshill&lt;/span&gt;) &lt;a href="https://twitter.com/apreshill/status/1363104026460577793?ref_src=twsrc%5Etfw"&gt;February 20, 2021&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;p&gt;I also collaborated with someone on a blog post for the first time, and I learned that you can send links to &lt;em&gt;preview&lt;/em&gt; branches! 🎉 For both solo and collaborative posts, this is my new workflow.&lt;/p&gt;
&lt;p&gt;I did a quick search for existing guides, and I found that Garrick Aden‑Buie has a comprehensive 2019 blog post titled &lt;a href="https://www.garrickadenbuie.com/blog/blogdown-netlify-new-post-workflow/" target="_blank"&gt;A Blogdown New Post Workflow with Github and Netlify&lt;/a&gt;. Some of the steps are specific to {blogdown}, so here is my {distill} take on it.&lt;/p&gt;
&lt;h1 id="netlifly-settings"&gt;Netlifly settings&lt;/h1&gt;
&lt;p&gt;First, make sure you have &lt;a href="https://docs.netlify.com/site-deploys/overview/#definitions" target="_blank"&gt;deploy previews&lt;/a&gt; enabled on Netlifly. Login to Netlifly, go to your site, and then:&lt;/p&gt;
&lt;p&gt;➡️ Site settings&lt;/p&gt;
&lt;p&gt;➡️ Build &amp;amp; deploy&lt;/p&gt;
&lt;p&gt;➡️ Deploy contexts&lt;/p&gt;
&lt;p&gt;➡️ Deploy previews&lt;/p&gt;
&lt;p&gt;➡️ Select &lt;strong&gt;Any pull request against your production branch / branch deploy branches&lt;/strong&gt; &lt;em&gt;Netlify will generate a deploy preview with a unique URL for each built pull request.&lt;/em&gt;&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img src="https://www.pipinghotdata.com/posts/2021-04-01-deploy-previews-with-netliflyimg/netlifly-settings.png" alt="Screenshot of Netlifly settings with Deploy previews set to &amp;quot;Any pull request...&amp;quot;." width="894" /&gt;
&lt;p class="caption"&gt;
(#fig:unnamed-chunk-1)Screenshot of Netlifly settings with Deploy previews set to “Any pull request…”.
&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id="back-in-website-development"&gt;Back in website development&lt;/h1&gt;
&lt;ol style="list-style-type: decimal"&gt;
&lt;li&gt;Create a branch for your website repository. I am naming my branch &lt;code&gt;netlifly-deploy-branch&lt;/code&gt;, and in the R console submit:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="r"&gt;&lt;code&gt;usethis::pr_init(&amp;quot;netlifly-deploy-branch&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="2" style="list-style-type: decimal"&gt;
&lt;li&gt;Create a post. In R console submit:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="r"&gt;&lt;code&gt;distill::create_post(&amp;quot;Deploy previews with Netlifly&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="3" style="list-style-type: decimal"&gt;
&lt;li&gt;&lt;p&gt;Draft post; set &lt;code&gt;draft: false&lt;/code&gt; in the &lt;code&gt;yaml&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Knit post.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Commit everything. In terminal submit:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="r"&gt;&lt;code&gt;git add .
git commit -m &amp;quot;draft netlifly post&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="6" style="list-style-type: decimal"&gt;
&lt;li&gt;Push to GitHub. In R console submit:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="r"&gt;&lt;code&gt;usethis::pr_push()&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="7" style="list-style-type: decimal"&gt;
&lt;li&gt;&lt;p&gt;In GitHub, click &lt;strong&gt;“Create pull request”&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some automatic checks will run. Click on &lt;strong&gt;“Details”&lt;/strong&gt; where it says &lt;strong&gt;“Deploy preview ready!”&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="figure"&gt;
&lt;img src="https://www.pipinghotdata.com/posts/2021-04-01-deploy-previews-with-netliflyimg/netlifly-checks.PNG" alt="Screenshot of checks run on GitHub pull request. Click on &amp;quot;Details&amp;quot; where it says &amp;quot;Deploy preview ready!&amp;quot;" width="679" /&gt;
&lt;p class="caption"&gt;
(#fig:unnamed-chunk-6)Screenshot of checks run on GitHub pull request. Click on “Details” where it says “Deploy preview ready!”
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This opens up a window in my browser with the url &lt;code&gt;https://deploy-preview-3--flamboyant-mccarthy-854a9b.netlify.app/&lt;/code&gt;. Send this link to a friend for review!&lt;/p&gt;
&lt;ol start="9" style="list-style-type: decimal"&gt;
&lt;li&gt;&lt;p&gt;Edit draft, repeat steps 4-8.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When ready to publish, back in GitHub click on &lt;strong&gt;“Merge pull request”&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I’m new to this workflow and this post was written quickly - edits and suggestions are welcome!&lt;/p&gt;
&lt;h1 id="acknowledgements"&gt;Acknowledgements&lt;/h1&gt;
&lt;p&gt;Thanks, &lt;a href="https://twitter.com/apreshill" target="_blank"&gt;Alison Hill&lt;/a&gt;!🤗&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>3f11b1ffc11970e8bad0803f5999b5f5</distill:md5>
      <guid>https://www.pipinghotdata.com/posts/2021-04-01-deploy-previews-with-netlifly</guid>
      <pubDate>Thu, 01 Apr 2021 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2021-04-01-deploy-previews-with-netlifly/img/netlifly-checks.png" medium="image" type="image/png" width="1358" height="704"/>
    </item>
    <item>
      <title>R-Ladies styled code gifs with xaringan and flipbookr</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2021-03-08-r-ladies-styled-code-gifs-with-xaringan-and-flipbookr</link>
      <description>The code behind my @WeAreRLadies curating week</description>
      <guid>https://www.pipinghotdata.com/posts/2021-03-08-r-ladies-styled-code-gifs-with-xaringan-and-flipbookr</guid>
      <pubDate>Mon, 08 Mar 2021 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2021-03-08-r-ladies-styled-code-gifs-with-xaringan-and-flipbookr/walrus-adjusted.png" medium="image" type="image/png" width="1536" height="861"/>
    </item>
    <item>
      <title>GGanimating a geographic introduction</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2021-02-15-gganimating-a-geographic-introduction</link>
      <description>A gif for social media</description>
      <guid>https://www.pipinghotdata.com/posts/2021-02-15-gganimating-a-geographic-introduction</guid>
      <pubDate>Mon, 15 Feb 2021 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2021-02-15-gganimating-a-geographic-introduction/homes_preview.png" medium="image" type="image/png" width="919" height="461"/>
    </item>
    <item>
      <title>From gmailr to the Google Books API</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2021-01-11-from-gmailr-to-the-google-books-api</link>
      <description>A parenting project to catalog my childrens' 2020 library history</description>
      <guid>https://www.pipinghotdata.com/posts/2021-01-11-from-gmailr-to-the-google-books-api</guid>
      <pubDate>Mon, 11 Jan 2021 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2021-01-11-from-gmailr-to-the-google-books-api/preview_books.png" medium="image" type="image/png" width="705" height="459"/>
    </item>
    <item>
      <title>Leveraging labelled data in R</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2020-12-23-leveraging-labelled-data-in-r</link>
      <description>Embracing SPSS, SAS, and Stata data sets with the haven, labelled, and sjlabelled packages</description>
      <guid>https://www.pipinghotdata.com/posts/2020-12-23-leveraging-labelled-data-in-r</guid>
      <pubDate>Wed, 23 Dec 2020 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2020-12-23-leveraging-labelled-data-in-r/labelled_preview.png" medium="image" type="image/png" width="671" height="617"/>
    </item>
    <item>
      <title>Your first R package in 1 hour</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2020-10-25-your-first-r-package-in-1-hour</link>
      <description>Tools that make R package development easy</description>
      <guid>https://www.pipinghotdata.com/posts/2020-10-25-your-first-r-package-in-1-hour</guid>
      <pubDate>Sun, 25 Oct 2020 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2020-10-25-your-first-r-package-in-1-hour/workshop_thumnnail4.jpg" medium="image" type="image/jpeg"/>
    </item>
    <item>
      <title>Exporting editable ggplot graphics to PowerPoint with officer and purrr</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2020-09-22-exporting-editable-ggplot-graphics-to-powerpoint-with-officer-and-purrr</link>
      <description>What, why, how, when, and who</description>
      <guid>https://www.pipinghotdata.com/posts/2020-09-22-exporting-editable-ggplot-graphics-to-powerpoint-with-officer-and-purrr</guid>
      <pubDate>Tue, 22 Sep 2020 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2020-09-22-exporting-editable-ggplot-graphics-to-powerpoint-with-officer-and-purrr/data_cowboy_officer.png" medium="image" type="image/png" width="678" height="382"/>
    </item>
    <item>
      <title>Introducing RStudio and R Markdown</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2020-09-07-introducing-the-rstudio-ide-and-r-markdown</link>
      <description>Gettin' giffy wit it.</description>
      <guid>https://www.pipinghotdata.com/posts/2020-09-07-introducing-the-rstudio-ide-and-r-markdown</guid>
      <pubDate>Mon, 07 Sep 2020 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2020-09-07-introducing-the-rstudio-ide-and-r-markdown/introducing_resize2.png" medium="image" type="image/png" width="473" height="371"/>
    </item>
    <item>
      <title>A job interview presentation inspired by the R community</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2020-08-30-a-job-interview-presentation-inspired-by-the-r-community</link>
      <description>How #tidytuesday and twitter helped me secure a job offer</description>
      <guid>https://www.pipinghotdata.com/posts/2020-08-30-a-job-interview-presentation-inspired-by-the-r-community</guid>
      <pubDate>Sun, 30 Aug 2020 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2020-08-30-a-job-interview-presentation-inspired-by-the-r-community/welcome_to_rstats_twitter.png" medium="image" type="image/png" width="2009" height="1942"/>
    </item>
    <item>
      <title>Stringr 4 ways</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2018-12-11-stringr-4-ways</link>
      <description>Four approaches to feature engineering with regular expressions in R</description>
      <guid>https://www.pipinghotdata.com/posts/2018-12-11-stringr-4-ways</guid>
      <pubDate>Tue, 11 Dec 2018 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2018-12-11-stringr-4-ways/table2.png" medium="image" type="image/png" width="1010" height="319"/>
    </item>
    <item>
      <title>Welcome to Piping Hot Data</title>
      <dc:creator>Shannon Pileggi</dc:creator>
      <link>https://www.pipinghotdata.com/posts/2018-11-05-welcome-to-piping-hot-data</link>
      <description>What's in a name?</description>
      <guid>https://www.pipinghotdata.com/posts/2018-11-05-welcome-to-piping-hot-data</guid>
      <pubDate>Mon, 05 Nov 2018 00:00:00 +0000</pubDate>
      <media:content url="https://www.pipinghotdata.com/posts/2018-11-05-welcome-to-piping-hot-data/tidyverse_celestial.png" medium="image" type="image/png" width="2048" height="2048"/>
    </item>
  </channel>
</rss>
