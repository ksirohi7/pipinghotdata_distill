---
title: "Code highlighting in Quarto revealjs presentations"
description: |
  A short description of the post.
base_url: https://www.pipinghotdata.com/
twitter:
  site: "@PipingHotData"
  creator: "@PipingHotData"
author:
  - name: Shannon Pileggi
    url: {}
date: 2022-05-10
preview: quarto-code-hl-layout.PNG
output:
  distill::distill_article:
    toc: true
    toc_depth: 2
    self_contained: false
draft: false
creative_commons: CC BY
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, dpi=1)
```

```{r thumbnail, eval=TRUE, echo=FALSE}
#| fig.cap: > 
#|   Left hand side shows `.qmd` source code; right hand side shows rendered slides
#|   with line highlighting.
#| fig.alt: > 
#|    `.qmd` source code shows three different methods for code highlighting;
#|    on right hand side, image of slide 1 shows line 1 highlighted, 
#|    image of slide 2 shows line 2 highlighted, and image of slide 3 shows
#|    line 3 highlighted.
knitr::include_graphics("quarto-code-hl-layout.PNG")
```



# TL; DR

I started playing with Quarto revealjs presentations, it is fun! Here are some methods
I learned to highlight code lines.

# Overview

In general, `code-line-numbers` is a Quarto specific code block option for presentation 
formats of `revealjs`. This means that `code-line-numbers` will not render code
highlighting when used in Quarto documents (`.qmd`) of format `html`, nor within
an R markdown document (`.Rmd`). Note that Quarto code block options have a dash their name.

For a complete overview of all code block options supported in Quarto, see
`Quarto -> Reference -> Code Cells -> Knitr`.

<https://quarto.org/docs/reference/cells/cells-knitr.html#code-output>


# Method 1: 

````{verbatim}
```{r}
#| echo: TRUE
#| eval: FALSE
#| code-line-numbers: "1"
x <- 1:10
x
LETTERS[x]
```
````

Here, we are executing code block options via special comments indicated by `#|`. 
Comment-based syntax is recommended for Quarto to make documents more portable and 
consistent across execution engines. See 

`Quarto -> Guide -> Computations -> Using R -> Chunk Options`.

<https://quarto.org/docs/computations/r.html#chunk-options>

# Method 2:

````{verbatim}
```{r, echo=TRUE, eval=FALSE, `code-line-numbers`="2"}
x <- 1:10
x
LETTERS[x]
```
````

Quarto code block options have dash in their name; R only supports dashes in variable 
names when wrapped in the back tick.


# Method 3: 

````{verbatim}
```{.r code-line-numbers="3"}
x <- 1:10
x
LETTERS[x]
```
````

`.r` signals a non-compute code block (which is what we used above with `eval=FALSE`). 
These are verbatim code blocks with a class set on them for language highlighting. 
In this case, the language is R.
(Is there a reference for this?)

# Summary

There is a lot of wonderful Quarto documentation, but navigating it all takes time.

For a quick starter on this topic, you can download the full Quarto revealjs presentation demonstration `r xfun::embed_file(here::here("_posts", "2022-05-10-code-highlighting-in-quarto-revealjs-presentations", "demo", "quarto-code-hl.qmd"), text = "quarto-code-hl.qmd")`. 

And here are the rendered presentation slides, which you can use Pg Up / Pg Dn to click through.

```{r embed-xaringan, echo=FALSE}
xaringanExtra::embed_xaringan(url = "demo/quarto-code-hl.html", ratio = "4:3")
```

# Acknowledgments

Thank you very much to Chris Dervieux for kindly explaining all of this to me
on [RStudio Community](https://community.rstudio.com/t/quarto-presentation-code-line-numbers/136559/2){target="_blank"}.
